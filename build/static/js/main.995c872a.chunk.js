(this.webpackJsonpfantawesome=this.webpackJsonpfantawesome||[]).push([[0],{10:function(e,t,a){},24:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var i=a(1),s=a.n(i),n=a(19),r=a.n(n),o=(a(24),a(4)),d=a.n(o),c=a(7),l=a(3),m=a(6),h=a.n(m);function u(e){return"https://johleander-api.azurewebsites.net"+e}var f,v=[{name:"Arsenal",fplId:1,fplCode:3,id:42},{name:"Aston Villa",fplId:2,fplCode:7,id:66},{name:"Brentford",fplId:3,fplCode:94,id:55},{name:"Brighton",fplId:4,fplCode:36,id:51},{name:"Burnley",fplId:5,fplCode:90,id:44},{name:"Chelsea",fplId:6,fplCode:8,id:49},{name:"Crystal Palace",fplId:7,fplCode:31,id:52},{name:"Everton",fplId:8,fplCode:11,id:45},{name:"Leicester",fplId:9,fplCode:13,id:46},{name:"Leeds",fplId:10,fplCode:2,id:63},{name:"Liverpool",fplId:11,fplCode:14,id:40},{name:"Manchester City",fplId:12,fplCode:43,id:50},{name:"Manchester United",fplId:13,fplCode:1,id:33},{name:"Newcastle",fplId:14,fplCode:4,id:34},{name:"Norwich",fplId:15,fplCode:45,id:71},{name:"Southampton",fplId:16,fplCode:20,id:41},{name:"Tottenham",fplId:17,fplCode:6,id:47},{name:"Watford",fplId:18,fplCode:57,id:38},{name:"West Ham",fplId:19,fplCode:21,id:48},{name:"Wolverhampton",fplId:20,fplCode:39,id:39}];!function(e){e[e.Stats=0]="Stats",e[e.Lineups=1]="Lineups"}(f||(f={}));a(44);var p=a(5),j=function e(t){Object(p.a)(this,e),this.id=void 0,this.homeTeam=void 0,this.awayTeam=void 0,this.kickoffTime=void 0,this.isFinished=void 0,this.gameweek=void 0,this.referee=void 0,this.apiFootballFixtureId=void 0,this.id=t.id,this.homeTeam=t.homeTeam,this.awayTeam=t.awayTeam,this.gameweek=t.gameweek,this.isFinished=t.isFinished,this.kickoffTime=t.kickoffTime,this.referee=t.referee,this.apiFootballFixtureId=t.apiFootballFixtureId},b=(a(45),a(10),a(0)),x=function(e){return Object(b.jsxs)("div",{className:"gameResultStatsContainer",children:[Object(b.jsx)(y,{header:"Goals",homePlayerStats:e.homeStats.goals_scored,awayPlayerStats:e.awayStats.goals_scored}),Object(b.jsx)(y,{header:"Assists",homePlayerStats:e.homeStats.assists,awayPlayerStats:e.awayStats.assists}),Object(b.jsx)(y,{header:"Bonus",homePlayerStats:e.homeStats.bonus,awayPlayerStats:e.awayStats.bonus}),Object(b.jsx)(y,{header:"BPS",homePlayerStats:e.homeStats.bps,awayPlayerStats:e.awayStats.bps})]})},y=function(e){var t=function(e){return e.map((function(e){var t,a,i=e.value>1?"(".concat(e.value,")"):"";return Object(b.jsxs)("p",{children:[null===(t=e.player)||void 0===t?void 0:t.first_name," ",null===(a=e.player)||void 0===a?void 0:a.second_name," ",Object(b.jsx)("span",{children:i})]})}))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"section",children:e.header}),Object(b.jsxs)("div",{className:"statsContent",children:[Object(b.jsx)("div",{className:"homeStats",children:t(e.homePlayerStats)}),Object(b.jsx)("div",{className:"awayStats",children:t(e.awayPlayerStats)})]})]})},g=a(8),O=function(e){var t=Object(i.useState)([]),a=Object(l.a)(t,2),s=a[0],n=a[1];Object(i.useEffect)((function(){function t(){return(t=Object(c.a)(d.a.mark((function t(){var a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u("/api/football/lineups/?fixtureId=".concat(e.id)),t.next=3,h.a.get(a);case 3:i=t.sent,n(i.data.response);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.id]);var r=s[0],o=s[1];return Object(b.jsxs)("div",{className:"lineupsContainer",children:[Object(b.jsx)(w,{header:"Formation",homeValues:null===r||void 0===r?void 0:r.formation,awayValues:null===o||void 0===o?void 0:o.formation}),Object(b.jsxs)("div",{className:"lineupWrapper",children:[Object(b.jsx)(C,Object(g.a)({},r)),Object(b.jsx)(C,Object(g.a)({},o))]})]})},w=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)("div",{className:"homeStats",children:Object(b.jsx)("span",{children:e.homeValues})}),Object(b.jsx)("div",{children:e.header}),Object(b.jsx)("div",{className:"awayStats",children:Object(b.jsx)("span",{children:e.awayValues})})]})})},C=function(e){var t,a=(null===(t=e.formation)||void 0===t?void 0:t.split("-"))||[],i=e.startXI;return Object(b.jsx)("div",{className:"lineup",style:{gridTemplateRows:"40px repeat(".concat(null===a||void 0===a?void 0:a.length,", 1fr)")},children:i?i.map((function(t){"G"===t.player.pos?e.team.colors.goalkeeper:e.team.colors.player;var a=parseInt(t.player.grid[0]);return Object(b.jsx)("div",{className:"lineupPart",style:{gridRowStart:a,gridRowEnd:a},children:Object(b.jsx)(T,{name:t.player.name,number:t.player.number,color:e.team.colors.player})})})):null})},T=function(e){return Object(b.jsxs)("svg",{className:"playerMarker",width:"32",height:"32",children:[Object(b.jsx)("circle",{cx:"50%",cy:"50%",r:"15",fill:"#"+e.color.primary,stroke:"#"+e.color.border,strokeWidth:"2",children:Object(b.jsx)("title",{children:e.name})}),Object(b.jsx)("text",{x:"50%",y:"50%",stroke:"#"+e.color.number,"stroke-width":"1px",textAnchor:"middle","dominant-baseline":"middle",children:e.number})]})},N=function(e){var t,a,s,n,r=Object(i.useState)(0),o=Object(l.a)(r,2),d=o[0];o[1];return Object(b.jsx)("div",{className:"gameResultContainer",onClick:e.onClose,children:Object(b.jsxs)("div",{className:"gameResult",onClick:function(e){e.stopPropagation()},children:[Object(b.jsx)("div",{className:"date",children:new Date(e.fixture.kickoffTime).toLocaleDateString("default",{month:"short",day:"numeric"})}),Object(b.jsxs)("div",{className:"logosAndResult",children:[Object(b.jsx)("img",{src:null===(t=e.fixture.homeTeam.team)||void 0===t?void 0:t.logo,alt:"",width:"60px",height:"60px"}),Object(b.jsx)("h2",{children:null===(a=e.fixture.homeTeam.team)||void 0===a?void 0:a.shortName}),Object(b.jsx)("h1",{children:e.fixture.homeTeam.score+"  -  "+e.fixture.awayTeam.score}),Object(b.jsx)("h2",{children:null===(s=e.fixture.awayTeam.team)||void 0===s?void 0:s.shortName}),Object(b.jsx)("img",{src:null===(n=e.fixture.awayTeam.team)||void 0===n?void 0:n.logo,alt:"",width:"60px",height:"60px"})]}),Object(b.jsx)("div",{className:"content",children:function(){switch(d){case f.Stats:return Object(b.jsx)(x,{homeStats:e.fixture.homeTeam.stats,awayStats:e.fixture.awayTeam.stats});case f.Lineups:return Object(b.jsx)(O,{id:e.fixture.apiFootballFixtureId});default:return Object(b.jsx)("p",{children:"Unknown"})}}()})]})})},k=function e(){Object(p.a)(this,e),this.goals_scored=void 0,this.assists=void 0,this.own_goals=void 0,this.penalties_saved=void 0,this.penalties_missed=void 0,this.yellow_cards=void 0,this.red_cards=void 0,this.saves=void 0,this.bonus=void 0,this.bps=void 0},_=function(e){var t=Object(i.useState)([]),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(i.useState)(1),o=Object(l.a)(r,2),m=o[0],f=o[1],p=Object(i.useState)(),x=Object(l.a)(p,2),y=x[0],g=x[1];Object(i.useEffect)((function(){function t(t,a){var i=new k;return t.forEach((function(t){var s=t.identifier,n=(a?t.a:t.h).map((function(t){return{player:e.players.find((function(e){return e.id===t.element})),value:t.value}}));i[s]=n})),i}function a(a,i){var s=a.map((function(a){var s,n,r=a.team_h,o=a.team_h_difficulty,d=a.team_h_score,c=a.team_a,l=a.team_a_difficulty,m=a.team_a_score,h=a.event,u=a.finished,f=a.kickoff_time,p=a.referee,b=a.code,x=a.stats,y=null===(s=v.find((function(e){return e.fplId===r})))||void 0===s?void 0:s.id,g=null===(n=v.find((function(e){return e.fplId===c})))||void 0===n?void 0:n.id,O=i.response.find((function(e){return e.teams.home.id===y&&e.teams.away.id===g}));return new j({homeTeam:{team:e.teams.find((function(e){return e.fplId===r})),difficulty:o,score:d,stats:t(x)},awayTeam:{team:e.teams.find((function(e){return e.fplId===c})),difficulty:l,score:m,stats:t(x,!0)},gameweek:h,isFinished:u,kickoffTime:f,referee:p,id:b,apiFootballFixtureId:O.fixture.id})}));n(s)}function i(){return(i=Object(c.a)(d.a.mark((function e(){var t,i,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u("/api/football/fplfixtures"),e.next=3,h.a.get(t);case 3:return i=e.sent,s=u("/api/football/fixtures"),e.next=7,h.a.get(s);case 7:n=e.sent,a(i.data,n.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){i.apply(this,arguments)}()}),[e.teams]);var O=function(t){var a=e.gameweeks.slice(t-1,t-1+10),i={month:"short",day:"numeric"};return a.map((function(e,a){return Object(b.jsxs)("div",{className:"gameweek",style:{gridRow:1,gridColumn:a+2},children:[e.isCurrent&&Object(b.jsx)("div",{className:"isCurrent",title:"Current Gameweek"}),Object(b.jsxs)("div",{className:"gameweekWrapper",children:[Object(b.jsxs)("p",{children:["GW",t+a]}),Object(b.jsx)("p",{className:"deadline",children:new Date(e.deadline).toLocaleDateString("default",i)})]})]},a+Math.random())}))},w=function(e){return e>3?"white":"black"},C=function(e){return["rgb(138, 242, 232)","rgb(104, 186, 178)","rgb(73, 125, 133)","rgb(45, 79, 84"][e-2]},T=function(e,t){var a=(e.homeTeam.score||-1)>(e.awayTeam.score||-1),i=(e.homeTeam.score||-1)<(e.awayTeam.score||-1);return t&&a||!t&&i?"rgb(255, 23, 81)":!a&&!i?"rgb(231, 231, 231)":"rgb(1, 252, 122)"},_=function(e){g(e)},S=function(t){var a=t+10;return s?s.filter((function(e){return e.gameweek>=t&&e.gameweek<a})).map((function(a,i){var s=e.teams.findIndex((function(e){var t;return e.name===(null===(t=a.homeTeam.team)||void 0===t?void 0:t.name)})),n=e.teams.findIndex((function(e){var t;return e.name===(null===(t=a.awayTeam.team)||void 0===t?void 0:t.name)})),r=a.gameweek-t;return function(e,t,a,i){var s,n,r,o,d,c,l,m,h,u,f,v;return e.isFinished?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"fixture",onClick:function(){return _(e)},title:(null===(s=e.homeTeam.team)||void 0===s?void 0:s.name)+" - "+(null===(n=e.awayTeam.team)||void 0===n?void 0:n.name)+"  "+e.homeTeam.score+" - "+e.awayTeam.score,style:{gridRow:t+2,gridColumn:i+2,backgroundColor:T(e,!1)},children:[Object(b.jsx)("div",{className:"fixtureDifficulty",children:e.homeTeam.difficulty}),Object(b.jsxs)("div",{className:"resultWrapper",children:[Object(b.jsx)("div",{className:"fixtureOpponent",children:(null===(r=e.awayTeam.team)||void 0===r?void 0:r.shortName)+" (H)"}),Object(b.jsx)("div",{children:e.homeTeam.score+" - "+e.awayTeam.score})]})]},e.id+"home"),Object(b.jsxs)("div",{className:"fixture",onClick:function(){return _(e)},title:(null===(o=e.homeTeam.team)||void 0===o?void 0:o.name)+" - "+(null===(d=e.awayTeam.team)||void 0===d?void 0:d.name)+"  "+e.homeTeam.score+" - "+e.awayTeam.score,style:{gridRow:a+2,gridColumn:i+2,backgroundColor:T(e,!0)},children:[Object(b.jsx)("div",{className:"fixtureDifficulty",children:e.awayTeam.difficulty}),Object(b.jsxs)("div",{className:"resultWrapper",children:[Object(b.jsx)("div",{className:"fixtureOpponent",children:(null===(c=e.homeTeam.team)||void 0===c?void 0:c.shortName)+" (A)"}),Object(b.jsx)("div",{children:e.homeTeam.score+" - "+e.awayTeam.score})]})]},e.id+"away")]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"fixture",title:(null===(l=e.homeTeam.team)||void 0===l?void 0:l.name)+" - "+(null===(m=e.awayTeam.team)||void 0===m?void 0:m.name),style:{gridRow:t+2,gridColumn:i+2,backgroundColor:C(e.homeTeam.difficulty),color:w(e.homeTeam.difficulty)},children:[Object(b.jsx)("div",{className:"fixtureDifficulty",children:e.homeTeam.difficulty}),Object(b.jsx)("div",{className:"fixtureOpponent",children:(null===(h=e.awayTeam.team)||void 0===h?void 0:h.shortName)+" (H)"})]},e.id+"home"),Object(b.jsxs)("div",{className:"fixture",title:(null===(u=e.homeTeam.team)||void 0===u?void 0:u.name)+" - "+(null===(f=e.awayTeam.team)||void 0===f?void 0:f.name),style:{gridRow:a+2,gridColumn:i+2,backgroundColor:C(e.awayTeam.difficulty),color:w(e.awayTeam.difficulty)},children:[Object(b.jsx)("div",{className:"fixtureDifficulty",children:e.awayTeam.difficulty}),Object(b.jsx)("div",{className:"fixtureOpponent",children:(null===(v=e.homeTeam.team)||void 0===v?void 0:v.shortName)+" (A)"})]},e.id+"away")]})}(a,s,n,r)})):[]},I=function(){if(y&&y.isFinished)return Object(b.jsx)(N,{fixture:y,onClose:function(){return _(void 0)}})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"options",children:[Object(b.jsx)("h3",{children:"FPL Fixtures"}),Object(b.jsxs)("div",{className:"changeGameweek",children:[Object(b.jsx)("button",{className:"changeGameweekButton",onClick:function(){var t=e.gameweeks.findIndex((function(e){return e.isCurrent}))+1;f(t)},children:Object(b.jsx)("p",{children:"Current GW"})}),Object(b.jsx)("button",{className:"changeGameweekButton",onClick:function(){f(m-1)},disabled:1===m,children:Object(b.jsx)("p",{children:"Previous GW"})}),Object(b.jsx)("button",{className:"changeGameweekButton",onClick:function(){f(m+1)},disabled:29===m,children:Object(b.jsx)("p",{children:"Next GW  "})})]})]}),Object(b.jsx)("div",{className:"fixtures",children:Object(b.jsxs)(b.Fragment,{children:[e.teams.map((function(e,t){return Object(b.jsxs)("div",{className:"teamLabel",style:{gridRow:t+2},title:e.name,children:[Object(b.jsx)("img",{src:e.logo,alt:"",width:"30px",height:"30px"}),Object(b.jsx)("p",{children:e.name})]},e.fplId+e.name)})),O(m),S(m),I()]})})]})},S=function e(t){Object(p.a)(this,e),this.id=void 0,this.fplId=void 0,this.name=void 0,this.shortName=void 0,this.strength=void 0,this.logo=void 0;var a=Object(g.a)({},t),i=a.fplId,s=a.id,n=a.name,r=a.shortName,o=a.strength,d=a.logo;this.id=s,this.fplId=i,this.name=n,this.shortName=r,this.strength=o,this.logo=d},I=function e(t){Object(p.a)(this,e),this.id=void 0,this.chipPlays=void 0,this.averageEntryScore=void 0,this.deadline=void 0,this.finished=void 0,this.highestScore=void 0,this.isCurrent=void 0,this.isNext=void 0,this.isPrevious=void 0,this.mostCaptained=void 0,this.mostSelected=void 0,this.mostTransferredIn=void 0,this.mostViceCaptained=void 0,this.name=void 0,this.topElement=void 0,this.transfersMade=void 0;var a=t.id,i=t.chipPlays,s=t.averageEntryScore,n=t.deadline,r=t.finished,o=t.highestScore,d=t.isCurrent,c=t.isNext,l=t.isPrevious,m=t.mostCaptained,h=t.mostSelected,u=t.mostTransferredIn,f=t.mostViceCaptained,v=t.name,j=t.topElement,b=t.transfersMade;this.id=a,this.chipPlays=i,this.averageEntryScore=s,this.deadline=n,this.finished=r,this.highestScore=o,this.isCurrent=d,this.isNext=c,this.isPrevious=l,this.mostCaptained=m,this.mostSelected=h,this.mostTransferredIn=u,this.mostViceCaptained=f,this.name=v,this.topElement=j,this.transfersMade=b};var F=function(){var e=Object(i.useState)({teams:[],gameweeks:[],players:[]}),t=Object(l.a)(e,2),a=t[0],s=t[1];function n(e,t){var a=e.teams,i=e.elements,n=e.events,r=a.map((function(e){var a,i=e.id,s=e.name,n=e.short_name,r=e.strength,o=e.strength_attack_away,d=e.strength_attack_home,c=e.strength_defence_away,l=e.strength_defence_home,m=e.strength_overall_away,h=e.strength_overall_home,u=v.find((function(e){return e.fplId===i})),f=null===(a=t.response.find((function(e){return e.team.id===(null===u||void 0===u?void 0:u.id)})))||void 0===a?void 0:a.team.logo;return new S({fplId:i,id:null===u||void 0===u?void 0:u.id,name:s,shortName:n,strength:{aggregate:r,home:{attack:d,defence:l},away:{attack:o,defence:c},overall:{home:h,away:m}},logo:f})})),o=n.map((function(e){var t=e.average_entry_score,a=e.chip_plays,i=e.deadline_time,s=e.finished,n=e.highest_score,r=(e.highest_scoring_entry,e.id),o=e.is_current,d=e.is_next,c=e.is_previous,l=e.most_captained,m=e.most_selected,h=e.most_transferred_in,u=e.most_vice_captained,f=e.name,v=e.top_element,p=(e.top_element_info,e.transfers_made);return new I({averageEntryScore:t,chipPlays:a,deadline:i,finished:s,highestScore:n,id:r,isCurrent:o,isNext:d,isPrevious:c,mostCaptained:l,mostSelected:m,mostTransferredIn:h,mostViceCaptained:u,name:f,topElement:v,transfersMade:p})}));s({teams:r,gameweeks:o,players:i})}return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(d.a.mark((function e(){var t,a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u("/api/football/fplgeneral"),e.next=3,h.a.get(t);case 3:return a=e.sent,i=u("/api/football/teams"),e.next=7,h.a.get(i);case 7:s=e.sent,n(a.data,s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsx)("div",{className:"app",children:a.teams.length>0?Object(b.jsx)(_,{teams:a.teams,gameweeks:a.gameweeks,players:a.players}):Object(b.jsx)("div",{children:"Loading..."})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,48)).then((function(t){var a=t.getCLS,i=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),i(e),s(e),n(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root")),P()}},[[47,1,2]]]);
//# sourceMappingURL=main.995c872a.chunk.js.map